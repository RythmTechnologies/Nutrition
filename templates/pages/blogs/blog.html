{% extends 'base.html' %}
{% load static %}

{% block title %}{{ blog.title }}{% endblock title %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/about_single.css' %}">


<main class="container">
<div class="p-4 p-md-5 mb-4 rounded text-body-emphasis bg-body-secondary mt-3">
<div class="col-lg-6 px-0">
  <h1 class="display-4 fst-italic">{{blog.title}}</h1>
</div>
</div>

<div class="row mb-2">
  {% for blog in blogs|slice:":2" %}
  <div class="col-md-6">
    <div style="height: 85%;" class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
      <div class="col-md-8 p-4 d-flex flex-column position-static">
        <strong class="d-inline-block mb-2 text-primary">{{ blog.category.name }}</strong>
        <h3 class="mb-0">{{ blog.title }}</h3>
        <div class="mb-1 text-muted">{{ blog.created_at|date:"b d" }}</div>
        <div class="blog_content ">
          <p class="card-text mb-auto ">{{ blog.short_content|truncatechars:25 }}</p>
        </div>
        <a href="{% url 'blog-icerik' blog.slug %}" class="stretched-link">
          Continue reading
          <svg class="bi" width="1em" height="1em"><use xlink:href="#chevron-right"/></svg>
        </a>
      </div>
      <div class="d-flex align-items-center col-md-4 d-none d-lg-block">
        <img src="{{ blog.image.url }}" alt="{{ blog.title }}" class="bd-placeholder-img mb-2  p-2"  style="max-width: 250px;object-fit: cover;border-radius: 10px;height: 90%;width: 100%;" >
      </div>
    </div>
  </div>
  {% if forloop.counter|divisibleby:2 %}</div><div class="row">{% endif %}
{% endfor %}
</div>

<div class="row g-5">
<div class="col-md-8">
  <h3 class="pb-4 mb-4 fst-italic border-bottom">
    From the Firehose
  </h3>
 {% for content  in blog_content %}
  <article class="blog-post overflow-hidden">
    <h2 class="display-5 link-body-emphasis mb-1">{{content.title}}</h2>
    <p class="blog-post-meta">{{content.created_at}} <a href="#"> -{{content.blog__author}}</a></p>
    {% if content.image %}
      <div>
        <div class="row justify-content-center">
          <div class="col-md-8 text-center mb-5">
            <img src="{{content.image.url}}" class="rounded" alt="">
          </div>
        </div>
        {{content.description|safe}}
      </div>
      
    {% else %}
      <div>
        {{content.description|safe}}
      </div>
      
    {% endif %}
    
   
  </article>
  
 {% endfor %}
  
</div>

<div class="col-md-4">
  <div class="position-sticky" style="top: 2rem;">
    <div class="p-4 mb-3 bg-body-tertiary rounded">
      <h4 class="fst-italic">About</h4>
      <p class="mb-0">{{blog_about.about|safe}}</p>
    </div>

    <div>
      <h4 class="fst-italic text-center">Recent posts</h4>
      <ul class="list-unstyled text-center">
        {% for blog in blogs|slice:"2:5" %}
        <li class="d-flex justify-content-center justify-content-md-start"> <!-- md boyutunda ortalanÄ±r -->
          <a class="d-flex flex-column  flex-lg-row gap-3 align-items-start align-items-lg-center py-3 link-body-emphasis text-decoration-none border-top" href="{% url 'blog-icerik' blog.slug %}">
            <img src="{{blog.image.url}}" height="100px" style="max-width: 150px;object-fit: cover;" class="rounded" alt="">
            <div class="col-lg-8">
              <h5 class="mb-0">{{blog.title}}</h5>
              <small class="text-body-secondary">{{blog.created_at}}</small>
            </div>
          </a>
        </li>
        {% endfor %}
      </ul>
    </div>

   
    <div class="p-4 text-center text-md-start">
      <h4 class="fst-italic">Elsewhere</h4>
      <ol class="list-unstyled">
        <li class="text-center text-md-start"><a href="#">GitHub</a></li>
        <li class="text-center text-md-start"><a href="https://www.instagram.com/dytsedanurciray/">instagram</a></li>
        <li class="text-center text-md-start"><a href="#">Facebook</a></li>
      </ol>
    </div>
  </div>
</div>
</div>

</main>

<footer class=" text-center">
  <p><a href="#">Back to top</a></p>
</footer>



{% endblock content %}
